<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Scroll Rack | Modules &amp; Dependency Injection</title>
    
    <link href="../../style.css" rel="stylesheet">
</head>
<body>
    
    <toggle-menu>
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="-58.5 250.5 118 500" enable-background="new -58.5 250.5 118 500" xml:space="preserve">
    <path d="M0.5 705.4L59.8 750.5V602.5v-92.6V250.5H-58.8v352h0.1L-58.8 750.5 0.5 705.4z"/>
</svg>

    </toggle-menu>
    
    <nav>
            <section-nav-title>typescript</section-nav-title>
            <ul>
                <li><a href="/typescript/1_why/">Why using Typescript</a></li>
                <li><a href="/typescript/2_definition_files/">Definition Files</a></li>
                <li><a href="/typescript/3_api_specification/">API Specification</a></li>
            </ul>
            <section-nav-title>angular</section-nav-title>
            <ul>
                <li><a href="/angular/1_introduction/">Introduction</a></li>
                <li><a href="/angular/2_design_pattern/">Design Pattern</a></li>
                <li><a href="/angular/3_handling_interaction/">Handling User Interactions</a></li>
                <li><a href="/angular/4_modules_di/">Modules &amp; Dependency Injection</a></li>
            </ul>
    </nav>
    <main>
    <article>
    	<h1>Modules &amp; Dependency Injection</h1>
    	<div><h2 id="dependency-injection">Dependency Injection</h2>
<p>Because we code in ES6/Typescript and make heavy use of the <code>class</code> syntax, we can not use automated annotations tools, such as <a href="https://github.com/olov/ng-annotate"><code>ng-annotate</code></a>. Instead we create a static <code>$inject</code> property on the class to load dependencies.</p>
<p>The injected entities can then be used in the class constructor. In order to have the correct type definition for Angular services, we use the &quot;official&quot; <a href="https://github.com/borisyankov/DefinitelyTyped/blob/master/angularjs/angular.d.ts">TSD</a>. Loading additional definition files may be necessary.</p>
<pre><code class="lang-typescript">export class SomeController {
    public static $inject = [
        &#39;$scope&#39;,
        &#39;$location&#39;
    ]

    constructor(
        private $scope: ITodoScope,
        private $location: ng.ILocationService
    ) {
        // Code goes here
    }
}
</code></pre>
<p>A more complex example for using Typescript and Angular 1.X dependency injection, can be found <a href="https://github.com/angular-class/NG6-starter">here</a>.</p>
<h2 id="module-definition">Module Definition</h2>
<p>Angular 1.X uses its own syntax (<code>angular.module</code>) to create modules. In order to make the most out of ES6 and Typescript we define those modules in a separate file, like:</p>
<pre><code class="lang-typescript">import angular from &#39;angular&#39;;
import Home from &#39;./home/home&#39;;
import About from &#39;./about/about&#39;; 

let componentModule = angular.module(&#39;app.components&#39;, [
    Home.name,
    About.name
]);

export default componentModule;
</code></pre>
<p>Where <code>./home/home</code> and <code>./about/about</code> are are exported <code>angular.module</code>  similar to this:</p>
<pre><code class="lang-typescript">import angular from &#39;angular&#39;;
import anotherDependency from &#39;dependency&#39;;
import someComponent from &#39;./some.component&#39;; 

let homeModule = angular.module(&#39;home&#39;, [
    anotherDependency
])
.directive(&#39;some&#39;, someComponent);

export default homeModule;
</code></pre>
</div>
    </article>
    
        <footer-push></footer-push>
    </main>
    <footer>
        <time datetime="Thu Jul 09 2015 00:44:40 GMT+0200 (CEST)">Thu Jul 09 2015 00:44:40 GMT+0200 (CEST)</time>
    </footer>

</body>
</html>